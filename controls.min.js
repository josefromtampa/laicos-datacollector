!function(){var n=null;try{n=angular.module("laicos.datacollector.controls")}catch(e){}null==n&&(n=angular.module("laicos.datacollector.controls",["ngSanitize"])),n.directive("datacollectorControl",["$http","$templateCache",function(n,e){return{restrict:"EA",require:"?^form",scope:{question:"=",disable:"=",mode:"=",onChange:"&",actionEvent:"=",resolveRemoteUrl:"="},template:'<ng-include src="template"></ng-include>',link:function(n,e,t,r){function o(){r&&(console.log("updateNgForm",r.$dirty),r&&r.$setDirty())}switch(n.template="/components/laicos-datacollector/controls/templates/"+n.question.type.key+".html",n.question.type.key){case"counter":case"slider":n.decrementCounter=function(e){if(!n.disable){var t=e.answer||0;t="string"==typeof t?parseInt(t):t;var r=t-1;r>=e.type.min&&(e.answer=r),o()}},n.incrementCounter=function(e){if(!n.disable){var t=e.answer||0;t="string"==typeof t?parseInt(t):t;var r=t+1;r<=e.type.max&&(e.answer=r),o()}}}n.clear=function(){n.question.answer=null},n.setAnswer=function(e){n.question.answer=e,n.changed()},n.changed=function(){angular.isFunction(n.onChange)&&n.onChange({$question:n.question})},r&&(n.updateNgForm=o)}}}]).directive("ngMin",function(){return{restrict:"A",require:["ngModel"],compile:function(n,e){return function(n,t,r,o){var i=o[0];n.$watch(e.ngMin,function(n){t.attr("min",n),i.$render()})}}}}).directive("ngMax",function(){return{restrict:"A",require:["ngModel"],compile:function(n,e){return function(n,t,r,o){var i=o[0];n.$watch(e.ngMax,function(n){t.attr("max",n),i.$render()})}}}})}();
angular.module("laicos.datacollector.controls").run(["$templateCache",function(e){e.put("/components/laicos-datacollector/controls/templates/checkbox.html",'<div ng-if="mode == \'edit\'"><h3 class=primary-text-color ng-if=question.text ng-bind-html=question.text></h3><div class="item item-checkbox secondary-text-color question-control font-med"><label class="checkbox secondary-color-check"><input type=checkbox ng-model=question.answer ng-change=changed() ng-disabled=disable></label> {{question.type.label}}</div></div><div ng-if="mode == \'review\'"><div class=review-question ng-if=question.text ng-bind-html=question.text></div><div ng-if=question.answer class=review-answer><span ng-if=question.type.label class="primary-text-color bold">{{question.type.label}}</span></div></div>'),e.put("/components/laicos-datacollector/controls/templates/counter.html",'<div ng-if="mode == \'edit\'"><h3 class=primary-text-color ng-if=question.text ng-bind-html=question.text></h3><div ng-if=question.type.label class="counter-control-label center-text font-xsmall primary-text-color">{{question.type.label}}</div><div class="counter-control question-control"><button class="mui-btn mui-btn-primary secondary-back large circular-60" ng-click=decrementCounter(question) ng-disabled=disable><i class="icon ion-ios-minus-empty super-ios-minus-empty ion-ios-minus-empty"></i></button> <input type=number ng-model=question.answer ng-change=changed() class="mui-form-control secondary-text-color larger" ng-disabled=disable> <button class="mui-btn mui-btn-primary secondary-back large circular-60" ng-click=incrementCounter(question) ng-disabled=disable><i class="icon ion-ios-plus-empty super-ios-plus-empty"></i></button></div></div><div ng-if="mode == \'review\'"><div class=review-question ng-if=question.text ng-bind-html=question.text></div><div class=review-answer><span ng-if=question.type.label>{{question.type.label}}:</span> <span class="primary-text-color bold">{{question.answer}}</span></div></div>'),e.put("/components/laicos-datacollector/controls/templates/date.html",'<div ng-if="mode == \'edit\'"><h3 class=primary-text-color ng-if=question.text ng-bind-html=question.text></h3><div class="mui-form-group question-control"><input type=date ng-class="{\'textbox-highlight\': question.answer}" class="form-textbox mui-form-control font-small" ng-model=question.answer ng-disabled=disable> <label class="mui-form-floating-label secondary-text-color">{{question.type.label}}</label></div></div><div ng-if="mode == \'review\'"><div class=review-question ng-if=question.text ng-bind-html=question.text></div><div class=review-answer><span ng-if=question.type.label>{{question.type.label}}:</span> <span class="primary-text-color bold">{{question.answer}}</span></div></div>'),e.put("/components/laicos-datacollector/controls/templates/dropdown.html",'<div ng-if="mode == \'edit\'"><h3 class=primary-text-color ng-if=question.text ng-bind-html=question.text></h3><div class="mui-form-group question-control dropdown-control"><span ng-show="question.answer == null" class="secondary-text-color font-med">select a value</span><select ng-model=question.answer class="secondary-color bottom-border full-width transparent-back font-large" ng-options="opt.name for opt in question.type.options track by opt.value" ng-change=changed() ng-disabled=disable></select><label class=secondary-text-color>{{question.type.label}}</label></div></div><div ng-if="mode == \'review\'"><div class=review-question ng-if=question.text ng-bind-html=question.text></div><div class=review-answer><span ng-if=question.type.label>{{question.type.label}}:</span> <span ng-if=question.answer class="primary-text-color bold">{{question.answer.name}}</span></div></div>'),e.put("/components/laicos-datacollector/controls/templates/multi-choice.html",'<div ng-if="mode == \'edit\'"><h3 class=primary-text-color ng-if=question.text ng-bind-html=question.text></h3><div class="multi-choice question-control"><div ng-repeat="opt in question.type.options" ng-click="!disable ? setAnswer(opt) : false"><i ng-class="question.answer.value == opt.value ? \'super-ios-circle-filled ion-ios-circle-filled\' : \'super-ios-circle-outline ion-ios-circle-outline\'" class=secondary-color></i> <label class="secondary-text-color font-med">{{opt.name}}</label></div></div></div><div ng-if="mode == \'review\'"><div class=review-question ng-if=question.text ng-bind-html=question.text></div><div class=review-answer><span ng-if=question.type.label>{{question.type.label}}:</span> <span class="primary-text-color bold">{{question.answer.name}}</span></div></div>'),e.put("/components/laicos-datacollector/controls/templates/photo.html",'<div ng-if="mode == \'edit\'"><h3 class=primary-text-color ng-if=question.text ng-bind-html=question.text></h3><div class="photo-control question-control"><div class="camera-button secondary-color" ng-show="!question.answer && !question.answer.localPath && !disable" ng-click="actionEvent(\'capture\', question)"><i class="ion super-ios-camera"></i></div><div class=photo-content ng-show="(question.answer && question.answer.localPath)"><img id="{{\'photo_\' + question.id}}" ng-if=question.answer src="{{question.answer.remotePath ? resolveRemoteUrl(question.answer.remotePath) : question.answer.localPath}}"><div ng-hide=disable class=photo-buttons><i class="ion super-ios-camera-outline" ng-click="actionEvent(\'capture\', question)"></i> <i class="ion super-ios-compose-outline" ng-click="actionEvent(\'annotate\', question)"></i> <i class="ion super-ios-close-outline" ng-click=clear()></i></div></div></div></div><div ng-if="mode == \'review\'"><div class=review-question ng-if=question.text ng-bind-html=question.text></div><div class=review-answer><span ng-if=question.type.label>{{question.type.label}}:</span> <span ng-if=question.answer class="photo-control primary-text-color bold"><img src="{{question.answer.remotepath ? resolveRemoteUrl(question.answer.remotePath) : question.answer.localPath}}"></span></div></div>'),e.put("/components/laicos-datacollector/controls/templates/slider.html",'<div ng-if="mode == \'edit\'"><h3 class=primary-text-color ng-if=question.text ng-bind-html=question.text></h3><div class=question-control><div class="center-text secondary-color font-small"><span ng-if=question.type.label class=primary-text-color>{{question.type.label}}:</span> {{question.answer}}</div><div class="item range range-calm" laicos-ui-touchstart=$event.stopPropagation()><i class="icon ion-ios-minus-empty super-ios-minus-empty secondary-color font-xlarge" ng-click=decrementCounter(question) ng-disabled=disable></i> <input type=range ng-model=question.answer ng-min=question.type.min ng-max=question.type.max ng-change=changed() ng-disabled=disable> <i class="icon ion-ios-plus-empty super-ios-plus-empty secondary-color font-xlarge" ng-click=incrementCounter(question) ng-disabled=disable></i></div></div></div><div ng-if="mode == \'review\'"><div class=review-question ng-if=question.text ng-bind-html=question.text></div><div class=review-answer><span ng-if=question.type.label>{{question.type.label}}:</span> <span class="primary-text-color bold">{{question.answer}}</span></div></div>'),e.put("/components/laicos-datacollector/controls/templates/text-area.html",'<div ng-if="mode == \'edit\'"><h3 class=primary-text-color ng-if=question.text ng-bind-html=question.text></h3><div class="mui-form-group question-control"><textarea class="form-textbox mui-form-control font-small" rows={{question.type.lines}} ng-class="{\'textbox-highlight\': question.answer}" ng-model=question.answer ng-change=changed() ng-disabled=disable></textarea> <label class=secondary-text-color>{{question.type.label}}</label></div></div><div ng-if="mode == \'review\'"><div class=review-question ng-if=question.text ng-bind-html=question.text></div><div class=review-answer><span ng-if=question.type.label>{{question.type.label}}:</span> <span class="primary-text-color bold">{{question.answer}}</span></div></div>'),e.put("/components/laicos-datacollector/controls/templates/text-field.html",'<div ng-if="mode == \'edit\'"><h3 class=primary-text-color ng-if=question.text ng-bind-html=question.text></h3><div class="mui-form-group question-control"><input type="{{question.type.type ? question.type.type : \'text\'}}" ng-class="{\'textbox-highlight\': question.answer}" class="form-textbox mui-form-control font-small" ng-model=question.answer ng-change=changed() ng-disabled=disable> <label class="mui-form-floating-label secondary-text-color">{{question.type.label}}</label></div></div><div ng-if="mode == \'review\'"><div class=review-question ng-if=question.text ng-bind-html=question.text></div><div class=review-answer><span ng-if=question.type.label>{{question.type.label}}:</span> <span class="primary-text-color bold">{{question.answer}}</span></div></div>'),e.put("/components/laicos-datacollector/controls/templates/toggle.html",'<div ng-if="mode == \'edit\'"><h3 class=primary-text-color ng-if=question.text ng-bind-html=question.text></h3><div class="item item-toggle secondary-text-color font-med">{{question.type.label || \'option \' + $index}} <label class="toggle toggle-secondary"><input type=checkbox ng-model=question.answer ng-change=changed() ng-disabled=disable><div class=track><div class=handle></div></div></label></div></div><div ng-if="mode == \'review\'"><div class=review-question ng-if=question.text ng-bind-html=question.text></div><div class=review-answer><span ng-if=question.type.label>{{question.type.label}}:</span> <span class="primary-text-color bold"><span ng-if=question.answer>on / available</span> <span ng-if=!question.answer>off / not-available</span></span></div></div>'),e.put("/components/laicos-datacollector/controls/templates/yes-no.html","<div ng-if=\"mode == 'edit'\"><h3 class=primary-text-color ng-if=question.text ng-bind-html=question.text></h3><div class=\"yes-no-control question-control\"><i class=green ng-class=\"question.answer == 'yes' ? 'ion-ios-checkmark super-ios-checkmark' : 'ion-ios-checkmark-outline super-ios-checkmark-outline'\" ng-click=\"!disable ? setAnswer('yes') : false\"></i> <i class=red ng-class=\"question.answer == 'no' ? 'ion-ios-close super-ios-close' : 'ion-ios-close-outline super-ios-close-outline'\" ng-click=\"!disable ? setAnswer('no') : false\"></i></div></div><div ng-if=\"mode == 'review'\"><div class=review-question ng-if=question.text ng-bind-html=question.text></div><div class=review-answer><span ng-if=question.type.label>{{question.type.label}}:</span> <span class=\"primary-text-color bold\">{{question.answer}}</span></div></div>")}]);